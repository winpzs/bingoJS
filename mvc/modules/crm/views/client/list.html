<div class="row-fluid" style="visibility: hidden;"
    bg-controller="ctrl/crm/client/list">
    <div class="span12">
        <p>
            <button class="btn btn-small btn-success"
                bg-click="client.create()"><i class="icon-asterisk"></i> 创建客户</button>
            <button class="btn btn-small btn-success"
                bg-click="client.delAll()"><i class="icon-asterisk"></i> 删除所有</button>
        </p>
        <table id="table_bug_report" class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th class="center" style="width:40px;">
                        <label>
                            <input type="checkbox" /><span class="lbl"></span></label>
                    </th>
                    <th>客户</th>
                    <th class="hidden-480">电话</th>
                    <th class="hidden-480">性别</th>
                    <th class="hidden-480">客户所属</th>
                    <th class="hidden-480">备注</th>
                    <th style="width:120px;">记录数:{{client.list.length}}</th>
                </tr>
            </thead>
            <!--bg-render模板内容可以用script包装, 这样更好解决浏览解释问题-->
            <tbody bg-render="item in client.list">
                <script type="text/html">
                    <tr>
                        <td class="center">
                            <label>
                                <input type="checkbox" /><span class="lbl"></span></label>
                        </td>
                        <td><a href="javascript:void(0)"
                            bg-click="client.viewInfo(item)">${item.name}</a></td>
                        <td class="hidden-480">${item.tel}</td>
                        <td class="hidden-480">
                            <!--${}支持过滤器-->
                            <span class="label label-${item.sex | sw:['男', 'success', '女', 'warning', 'grey']}">
                                ${item.sex | sw:['男', '男性', '女', '女性', '保密']}
                            </span>
                        </td>
                        <td class="hidden-480">${userService.getName(item.user) | text}</td>
                        <td class="hidden-480">${item.desc | text}</td>
                        <td>
                            <div class="hidden-phone visible-desktop btn-group">
                                <!--绑定标签bg-click可以使用模板item变量,
                                     可以完全让view与controller分离开发-->
                                <button class="btn btn-mini btn-info"
                                    bg-click="client.edit(item)"><i class="icon-edit"></i></button>

                                <!--bg-event可以使用自定义事件-->
                                <button class="btn btn-mini btn-danger"
                                    bg-event="{ click: function(){client.doDelete(item);} }"><i class="icon-trash"></i></button>
                            </div>
                        </td>
                    </tr>
                </script>
            </tbody>
        </table>
    <!--/span-->
</div>
