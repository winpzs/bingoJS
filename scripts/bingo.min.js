window.console&&window.console.log||(window.console={log:function(){},error:function(){},info:function(){},table:function(){}});(function(){var b=false,a=null;"use strict";var h="",j=Object.prototype.toString,l=function(){},i,e=a,f=function(){if(e==a)e=$('<div style="display:none"></div>').appendTo(document.body);return e},g=0,d=0,c=window.bingo=window.bingo={version:{major:1,minor:0,rev:0,toString:function(){return[this.major,this.minor,this.rev].join(".")}},isDebug:b,prdtVersion:"",stringEmpty:h,noop:l,newLine:"\r\n",isType:function(a,b){return j.apply(b)==="[object "+a+"]"},isUndefined:function(a){return typeof a==="undefined"||a===i},isNull:function(b){return b===a||this.isUndefined(b)},isBoolean:function(a){return this.isType("Boolean",a)},isNullEmpty:function(a){return this.isNull(a)||a===h},isFunction:function(a){return this.isType("Function",a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return this.isType("String",a)},isObject:function(a){return!this.isNull(a)&&this.isType("Object",a)},isArray:function(a){return Array.isArray?Array.isArray(a):this.isType("Array",a)},isWindow:function(a){return!this.isNull(a)&&a==a.window},isElement:function(a){var c=a&&(a.ownerDocument||a).documentElement;return c?true:b},trim:function(a){return this.isString(a)?a.replace(/(^\s*)|(\s*$)/g,""):""},isStringEquals:function(a,c){return a==c?true:!this.isString(a)||!this.isString(c)?b:a.toUpperCase()==c.toUpperCase()},replaceAll:function(a,b,d,c){if(this.isNullEmpty(a)||this.isNullEmpty(b))return a;b=b.replace(/([^A-Za-z0-9])/g,"\\$1");a=a.replace(new RegExp(b,c||"g"),d);return a},inArray:function(d,h,f,g){var e=this.isFunction(d)?d:a,c=-1;this.each(h,function(a,f){if(e){if(e.call(a,a,f)){c=f;return b}}else if(a===d){c=f;return b}},f,g);return c},toStr:function(a){return this.isUndefined(a)?"":a.toString()},removeArrayItem:function(d,b){for(var c=[],a=0,e=b.length;a<e;a++)b[a]!=d&&c.push(b[a]);return c},sliceArray:function(c,a,b){isNaN(a)&&(a=0);isNaN(b)&&(b=c.length);return Array.prototype.slice.call(c,a,a+b)},makeAutoId:function(){var a=(new Date).valueOf();d=a===g?d+1:0;g=a;return[a,d].join("_")},each:function(e,l,k,f){if(this.isNull(e)||!c.isNumeric(e.length))return;var i=a,d=c.isNumeric(k)?k:0;if(d<0)d=e.length+d;if(d<0)d=0;var j=f?d-1:e.length,h=f?e.length-1:d;if(f&&h<=j||!f&&h>=j)return;for(var m=f?-1:1,g=h;g!=j;g+=m){i=e[g];if(l.call(i,i,g)===b)break}},htmlEncode:function(a){if(this.isNullEmpty(a))return"";var b=f();b.text(a);a=b.html();return a},htmlDecode:function(a){if(this.isNullEmpty(a))return"";var b=f();b.html(a);var c=b.text();return c},urlEncode:function(a){return this.isNullEmpty(a)?"":encodeURI(a)},urlDecode:function(a){return this.isNullEmpty(a)?"":decodeURI(a)},clearObject:function(b){for(var c=0,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)b[e]=a}},extend:function(b){var d=arguments.length;if(d<=0)return b;if(d==1){for(var e in b)b.hasOwnProperty(e)&&(this[e]=b[e]);return this}for(var c=a,f=1;f<d;f++){c=arguments[f];if(!this.isNull(c))for(var g in c)c.hasOwnProperty(g)&&(b[g]=c[g])}return b},clone:function(b,a){return k.clone(b,a)}},k={isCloneObject:function(a){return c.isObject(a)&&!c.isWindow(a)&&!c.isElement(a)},clone:function(a,b){return!a?a:c.isArray(a)?this.cloneArray(a,b):this.isCloneObject(a)?this.cloneObject(a,b):a},cloneObject:function(d,f){var g={},c=a;for(var e in d)if(d.hasOwnProperty(e)){c=d[e];if(f!==b)c=this.clone(c,f);g[e]=c}c=a;return g},cloneArray:function(f,e){for(var g=[],c=a,h=f.length,d=0;d<h;d++){c=f[d];if(e!==b)c=this.clone(c,e);g.push(c)}return g}}})();(function(b){var a=null;"use strict";var c=/[\[\.]?[\'\"]?([^\[\]\.\'\"]+)[\'\"]?[\]\.]?/g,d=function(b){c.lastIndex=0;var a=[];b.replace(c,function(c,b){if(g(c)&&a.length>0)a[a.length-1].isArray=true;a.push({attrname:b,isArray:false})});return a},f=function(h,e,k){if(!h||b.isNullEmpty(e))return;if(e.indexOf(".")<0&&e.indexOf("]")<0)h[e]=k;for(var g=d(e),f=h,i=a,l=g.length-1,c=a,j=0;j<l;j++){i=g[j];c=i.attrname;if(b.isNull(f[c]))f[c]=i.isArray?[]:{};f=f[c]}c=g[l].attrname;f[c]=k},g=function(a){return a.indexOf("]")>=0&&(a.indexOf('"')<0&&a.indexOf("'")<0)},e=function(h,e){if(!h||b.isNullEmpty(e))return;if(e.indexOf(".")<0&&e.indexOf("]")<0)return h[e];for(var g=d(e),f=h,j=a,k=g.length-1,c=a,i=0;i<k;i++){j=g[i];c=j.attrname;if(b.isNull(f[c]))return f[c];f=f[c]}c=g[k].attrname;return f[c]};b.extend({datavalue:function(a,b,c){if(arguments.length>=3)f(a,b,c);else return e(a,b)}})})(bingo);(function(a){"use strict";a.Event=function(h,i){var b=null,d=false,c=i||[],f=h,g=d,e=function(a){f||(f=this);a&&e.on(a);return arguments.length==0?e:f};a.extend(e,{on:function(a){a&&c.push({one:d,callback:a});g&&e.trigger().off();return this},one:function(a){a&&c.push({one:true,callback:a});g&&e.trigger().off();return this},off:function(b){if(b){var d=[];a.each(c,function(){this.callback!=b&&d.push(this)});c=d}else c=[];return this},end:function(a){g=a!==d;g&&e.off();return this},trigger:function(){for(var i=c,k=b,g=b,e=b,h=0,j=i.length;h<j;h++){g=i[h];if(g.one===true){e||(e=c);e=a.removeArrayItem(g,e)}if((k=g.callback.apply(f,arguments[0]))===d)break}e&&(c=e);return this},triggerHandler:function(){var e=c,d=b;if(e.length==0)return;d=e[0];var g=d.callback.apply(f,arguments[0]);if(d.one===true)c=a.removeArrayItem(d,c);return g},clone:function(){return a.Event(h,c)},owner:function(){return f}});return e}})(bingo);(function(a){"use strict";var d="NewObject_define",b=function(b,a){this._define=b;a&&this._Base(a)};b.prototype._Base=function(c){var b=this._define;b.prototype=new c(d);b.prototype.constructor=b;var f=b.prototype._property;if(f){b.prototype._property={};e(b.prototype._property,f,b.prototype)}b.prototype.base=function(){this.base=a.noop;c.prototype._Initialization.apply(this,arguments)}};b.prototype.Property=function(b){var a=this._define;if(!a.prototype._property)a.prototype._property={};e(a.prototype._property,b,a.prototype);return this};b.prototype.Define=function(b){var a=this._define;c(a.prototype,b);return this};b.prototype.Extend=function(b){var a=this._define;c(a.prototype,b);return this};b.prototype.Initialization=function(a){var b=this._define;b.prototype._Initialization=a;return this};b.prototype.Static=function(b){var a=this._define;c(a,b);return this};b.prototype.Variable=function(b){var c=this._define.prototype;for(var a in b)if(b.hasOwnProperty(a))c[a]=h(b[a],a);return this};var h=function(b,a){return function(){var c=this._variable;if(!(a in c))c[a]=b;if(arguments.length==0)return c[a];else{c[a]=arguments[0];return this}}},c=function(c,a){for(var b in a)if(a.hasOwnProperty(b))c[b]=a[b]},e=function(e,c,d){for(var b in c)if(c.hasOwnProperty(b))if(a.isObject(c[b])||a.isArray(c[b]))e[b]=c[b];else d[b]=c[b]},f=function(i,h){for(var c=i.split("."),b=window,d="",e=c.length-1,f=0;f<e;f++){d=c[f];if(!a.isNullEmpty(d)){if(a.isNull(b[d]))b[d]={};b=b[d]}}b[c[e]]&&g(b[c[e]],h);return b[c[e]]=h},g=function(b,c){for(var a in b)if(b.hasOwnProperty(a)&&!c.hasOwnProperty(a))c[a]=b[a]};a.Class=function(g,h,i){if(arguments.length<=2)if(this.isFunction(g)){if(this.isFunction(h)){i=h;h=g}else{i=g;h=null}g=this.stringEmpty}var e=function(){if(arguments[0]!=d)return e.NewObject.apply(window,arguments)};e.prototype._Initialization=a.noop;e.extend=function(a){c(e.prototype,a)};e.NewObject=function(){var b=new e(d);if(b._property){var f=a.clone(b._property);c(b,f)}b._variable={};b._Initialization.apply(b,arguments);b._Initialization=a.noop;return b};e.prototype.getEvent=function(c){var b=this;if(c){b.__events__||(b.__events__={});var d=b.__events__;return d[c]||(d[c]=a.Event(b))}return null};e.prototype.on=function(b,a){if(b&&a)this.getEvent(b).on(a);return this};e.prototype.one=function(b,a){if(b&&a)this.getEvent(b).one(a);return this};e.prototype.off=function(a,b){a&&this.getEvent(a).off(b);return this};e.prototype.end=function(a,b){a&&this.getEvent(a).end(b);return this};e.prototype.trigger=function(b){if(this.__events__){var a=this.__events__,c=arguments.length>1?arguments[1]:[];a[b]&&a[b]().trigger(c)}return this};e.prototype.triggerHandler=function(b){if(this.__events__){var a=this.__events__,c=arguments.length>1?arguments[1]:[];return a[b]&&a[b]().triggerHandler(c)}};e.prototype.hasEvent=function(a){return this.__events__&&this.__events__[a]};e.prototype.isDisposed=false;e.prototype.dispose=function(){var b=this;if(!b.isDisposed)try{b.__onDispose_131113&&b.__onDispose_131113().trigger()}finally{a.clearObject(b);b.isDisposed=true;b.dispose=a.noop}};e.prototype.onDispose=function(){var b=this;b.__onDispose_131113||(b.__onDispose_131113=a.Event());return b.__onDispose_131113.apply(b,arguments)};e.prototype.disposeByOther=function(a){if(a.dispose&&!a.isDisposed){var c=this,b=function(){c.dispose()};a.onDispose(b);this.onDispose(function(){a.isDisposed||a.onDispose().off(b)})}return this};var j=new b(e,h);i&&i.call(j);j=null;!a.isNullEmpty(g)&&f(g,e);return e};a.Class.makeDefine=function(a,b){f(a,b)}})(bingo);(function(a){"use strict";var b=window.document,c=b.head||b.getElementsByTagName("head")[0]||b.documentElement,d=c.getElementsByTagName("base")[0],e=/loaded|complete|undefined/i,h=/SCRIPT/i,g=function(h,k,j,g){var e=b.createElement("script");e.importurl=h;e.imporid=j||a.makeAutoId();e.async="async";e.src=h;if(g){var i=a.isFunction(g)?g(h):g;i&&(e.charset=i)}f(e,k||a.noop);d?c.insertBefore(e,d):c.appendChild(e);return j},f=function(b,c){var d=function(){if(!b)return;if(e.test(b.readyState)){b.onload=b.onerror=b.onreadystatechange=null;!a.isDebug&&b.parentNode&&b.parentNode.removeChild(b);setTimeout(function(){if(!b)return;try{c&&c(b.importurl,b.imporid,b)}finally{b=undefined;c=null}},5)}};b.onload=b.onerror=b.onreadystatechange=function(){d()}};a.extend({fetch:function(c,a,d,b){return g(c,a,d,b);a=null}})})(bingo);(function(a){"use strict";var g,k=[],d=[],c=[],b=[[],[]],i=function(b,c){return a.inArray(function(c){return a.isStringEquals(c,b)},c)},t=function(a){return i(a,k)>=0||i(a,d)>=0||i(a,c)>=0},q=function(g,e,d){!a.isNumeric(d)&&(d=a.usingPriority.Normal);o(g);b[d]||(b[d]=[]);b[d].push(e);if(c.length>0)s();else setTimeout(function(){f()&&h()},1)},o=function(d){var b=a.stringEmpty;a.each(d,function(d){if(a.isNull(d))return;b=a.route(d);b=p(b);if(!a.isNullEmpty(a.prdtVersion))b=[b.indexOf("?")?"&":"?",prdtVersion,"=",a.prdtVersion];!t(b)&&c.push(b)})},s=function(){if(c.length>0){var b=c;c=[];a.each(b,function(b){d.push(b);a.fetch(b,n)})}},f=function(){return c.length<=0&&d.length<=0},e=g,n=function(b){k.push(b);d=a.removeArrayItem(b,d);e!=g&&clearTimeout(e);e=setTimeout(function(){e=g;f()&&h()},50)},h=function(){var c=true;a.each(b,function(f,d){var e=b[d];b[d]=[];a.each(e,function(b){a.isFunction(b)&&b()});if(b[d].length>0){c=false;return false}});if(!c)f()&&h()},j=[],m=function(b,a){return{path:b,mapPath:a}},r=function(c,b){if(a.isNullEmpty(c)||a.isNullEmpty(b))return;c=a.route(c);b=a.route(b);var d=l(c);if(a.isNull(d))j.push(m(c,b));else d.mapPath=b},l=function(c){var b=a.inArray(function(b){return a.isStringEquals(b.path,c)},j);return b>=0?j[b]:null},p=function(b){var a=l(b);return a&&a.mapPath||b};a.extend({using:function(){if(arguments.length<=0)return;for(var e=[],c=null,f=0,b=null,d=0,g=arguments.length;d<g;d++){b=arguments[d];if(b)if(a.isFunction(b))c=b;else if(a.isNumeric(b))f=b;else e.push(b)}q(e,function(){c&&c()},f)},usingMap:function(e,b){var d=arguments.length;if(d<2)return;b=arguments[0];var c=a.sliceArray(arguments,1);a.each(c,function(c){if(a.isNullEmpty(c))return;r(c,b)})},usingPriority:{First:0,NormalBefore:45,Normal:50,NormalAfter:55,Last:100}})})(bingo);(function(a){var b=false;"use strict";var c=function(b,c){return a.isNull(b)||a.isNull(c)?b===c:a.isArray(b)?f(b,c):b instanceof RegExp?e(b,c):a.isFunction(b)?a.isFunction(c)&&b.valueOf()===c.valueOf():a.isObject(b)?d(b,c):typeof b===typeof c&&b===c},e=function(b,a){return a instanceof RegExp&&b.source===a.source&&b.global===a.global&&b.ignoreCase===a.ignoreCase&&b.multiline===a.multiline},f=function(d,e){if(d===e)return true;if(!a.isArray(e)||d.length!=e.length)return b;for(var f=0,g=d.length;f<g;f++)if(!c(d[f],e[f]))return b;return true},d=function(f,d){if(f===d)return true;if(!a.isObject(d))return b;var e=0;for(var g in f){e++;if(!c(f[g],d[g]))return b}for(var h in d)e--;return e===0};a.extend({equals:function(a,b){return c(a,b)}})})(bingo);(function(b){var c="linkRemove.linkdom",a=null;"use strict";b.extend({linkToDom:function(a,b){return i(a,b)},isUnload:false});b.linkToDom.LinkToDomClass=b.Class(function(){this.Define({linkToDom:function(e){var d=this;d.unlinkToDom();var c=d;d._linkToDomObject=b.linkToDom(e,function(b){try{b&&c.trigger&&c.trigger("domRemoved");c.dispose&&c.dispose()}finally{e=c._linkToDomObject=a;c=a}});return d},unlinkToDom:function(){var b=this;b._linkToDomObject&&b._linkToDomObject.unlink();b._linkToDomObject=a;return b}});this.Initialization(function(){this.onDispose(function(){this.unlinkToDom()})})});var f=function(){var d=this;d.callback=b.noop;if(d.target){d.target.removeData(d.id);d.target.off(c);d.target=a}},g=function(){e(this)},e=function(a,b){if(a&&a.target){var c=a.callback;f.call(a);c(b)}},h=$.cleanData;$.cleanData=function(e){for(var d=0,b;(b=e[d])!=a;d++)try{$(b).triggerHandler(c)}catch(f){}h.apply($,arguments)};var d=0,i=function(k,i){if(b.isFunction(i)){var h=$(k);if(!b.isUnload&&h.length>0){if(d>=Number.MAX_VALUE)d=0;d++;var j={id:"linkToDom_130102_"+d,target:h,callback:i,unlink:f,disconnect:g};h.data(j.id,"T");h.one(c,function(){e(j,true)});return j}else i()}return a};$(window).unload(function(){b.isUnload=true})})(bingo);(function(b){var t="$domnode",m="$withData",g="$bindContext",k="$view",i="$ajax",d=true,e="",c=false,j="__domnode140907__",a=null;"use strict";b.mvc={};var v={},B={},u={},w={},p=a,l=function(){};l.$injects=[];var y=/^\s*function[^(]*?\(([^)]+?)\)/i,h=b._makeInjectAttrs=function(a){if(a&&a.$injects)return a;var c=l;if(b.isArray(a)){c=a.pop();c.$injects=a}else if(b.isFunction(a)){c=a;var e=c.toString(),d=[];e.replace(y,function(c,a){a&&b.each(a.split(","),function(a){a=b.trim(a);a&&d.push(a)})});c.$injects=d}return c},x=function(d,i,f,g,l,h,c){c=c||{};var e=a;if(b.isString(d)){if(d in c)return c[d];c[d]={};e=b.factory(d);!b.isFunction(e)&&(e=b.service(d));if(!e)return{}}else e=d;var j=e.$injects,m=[];if(j&&j.length>0){if(!c.$view){c.$view=i||b.rootView();c.$domnode=f;c.$withData=h&&h.withData||(f?f.getWithData():a);c.node=l?l:f?f.node:i&&i.node;c.$attr=g;c.$injectParam=h;c.$command=g?g.command:a}var k=a;b.each(j,function(a){if(a in c)k=c[a];else k=c[a]=x(a,i,f,g,l,h,c);m.push(k)})}var n=e.apply(c.$module||c.$view,m)||{};b.isString(d)&&(c[d]=n);return n};b.extend({factory:function(b,c){if(this.isNullEmpty(b))return a;if(arguments.length==1)return v[b];else v[b]=h(c)},filter:function(b,c){if(this.isNullEmpty(b))return a;if(arguments.length==1)return w[b];else w[b]=h(c)},command:function(b,c){if(this.isNullEmpty(b))return a;b=b.toLowerCase();if(arguments.length==1)return u[b];else u[b]=h(c)},inject:function(f,e,a,b,c,d){return x(f,e,a,b,c,d)},start:function(){b.using(function(){var a=document.documentElement;p=o.NewObject(a);n.NewObject().fromNode(a).compile()})},getView:function(c){var b=$(c);return b.size()==0?a:f.getView(b[0])},rootView:function(){return p}});var f={compiledAttrName:["bg_cpl",b.makeAutoId()].join("_"),isCompileNode:function(a){return a[this.compiledAttrName]=="1"},setCompileNode:function(a){a[this.compiledAttrName]="1"},domNodeName:["bg_cpl_domnode",b.makeAutoId()].join("_"),getDomnode:function(b){return b?this.isDomnode(b)?$(b).data(j):this.getDomnode(b.parentNode):a},setDomnode:function(a,b){a[this.domNodeName]="1";$(a).data(j,b)},removeDomnode:function(b){var a=b.node;a[this.domNodeName]=="0";$(a).removeData(j)},isDomnode:function(a){return a[this.domNodeName]=="1"},getView:function(c){var b=this.getDomnode(c);return b?b.view:a},_textTagRegex:/\{\{([^}]+?)\}\}/gi,hasTextTag:function(a){this._textTagRegex.lastIndex=0;return this._textTagRegex.test(a)},_isCompileTextTag:function(d,e){var a=(d.parentNode||e)._isCompileTextTags_;return!a?c:b.inArray(d,a)>=0},_setCompileTextTag:function(a,b){var c=(a.parentNode||b)._isCompileTextTags_||((a.parentNode||b)._isCompileTextTags_=[]);c.push(a)},_removeCompileTextTag:function(a){var c=a.parentNode&&a.parentNode._isCompileTextTags_;c&&(a.parentNode._isCompileTextTags_=b.removeArrayItem(a,c))},_makeCommand:function(g,j,k){g=b.inject(g,j,a,a,k);var f={priority:50,tmpl:e,tmplUrl:e,replace:c,include:c,view:c,compileChild:d,readyAuto:d};if(b.isFunction(g)||b.isArray(g))f.link=g;else f=b.extend(f,g);f.compilePre||(f.compilePre=l);f.compile||(f.compile=l);f.controller||(f.controller=l);f.link||(f.link=l);!b.isNullEmpty(f.tmplUrl)&&b.inject(i,j)(f.tmplUrl).dataType("text").cache(d).async(c).success(function(a){f.tmpl=a}).get();f.compilePre=h(f.compilePre);b.inject(f.compilePre,j,a,a,k);return f},traverseNodes:function(c){var d=this,b=c.node;if(b.nodeType===1){if(!d.isCompileNode(b)){d.setCompileNode(b);if(!d.analyzeNode(b,c))return}var e=b.firstChild;if(e){var g=[];do g.push(e);while(e=e.nextSibling);d.traverseChildrenNodes(g,c)}}else if(b.nodeType===3)if(!d._isCompileTextTag(b,c.node)){d._setCompileTextTag(b,c.node);var h=b.nodeValue;f.hasTextTag(h)&&s.NewObject(c.view,c.parentDomnode,b,b.nodeName,h,c.withData)}b=c=a},traverseChildrenNodes:function(j,e,i){for(var g=[],d,k=b.clone(e,c),f=-1,h=0,l=j.length;h<l;h++){d=j[h];f=this.getTmplIndex(d);if(f<0){e.node=d;this.traverseNodes(e);e=b.clone(k,c)}else{e.withData=k.withData=i?i[f]:a;g.push(d)}}while(g.length){d=g.pop();d.parentNode.removeChild(d)}},getTmplIndex:function(d){var a="bingo_complie_";if(d.nodeType==8){var c=d.nodeValue;if(!b.isNullEmpty(c)&&c.indexOf(a)>=0)return parseInt(c.replace(a,e),10)}return-1},analyzeNode:function(i,e){var w="[bg-include]",p="bg-include",E=i.tagName,g=a;g=b.command(E);var m=[],A=[],l=d,k=a,u=c,n=c,h=c,t=c;if(g){g=f._makeCommand(g,e.view,i);u=g.replace;n=g.include;k=g.tmpl;h=g.view;t=g.readyAuto;l=g.compileChild;m.push({aName:E,aVal:a,type:"node",command:g})}else{var x=i.attributes;if(x&&x.length>0)for(var z=a,v=a,y=a,D=0,L=x.length;D<L;D++){v=x[D];if(v){z=v.nodeValue;y=v.nodeName;g=b.command(y);if(g){g=f._makeCommand(g,e.view,i);u=g.replace;n=g.include;k=g.tmpl;h||(h=g.view);t||(t=g.readyAuto);!l||(l=g.compileChild);m.push({aName:y,aVal:z,type:"attr",command:g});if(u||n)break}else f.hasTextTag(z)&&A.push({node:v,aName:y,aVal:z})}}}var j=a;if(m.length>0)if(u||n){var C=$(i);if(!b.isNullEmpty(k)){var B=$($.parseHTML(k));n&&k.indexOf(p)>=0&&B.find(w).add(B.filter(w)).each(function(){var a=$(this);if(b.isNullEmpty(a.attr(p))){var c=C.clone();f.setCompileNode(c[0]);a.append(c)}});var J=e.view,H=e.parentDomnode,K=b.clone(e,c);B.each(function(){var d=this;$(d).insertBefore(C);if(d.nodeType===1){if(h){e.view=o.NewObject(d,J,t);if(e.controller){e.view.$addController(e.controller);e.controller=a}}j=r.NewObject(e.view,d,h?a:H,e.withData);e.parentDomnode=j;h&&(e.withData=a);var g=m[m.length-1];q.NewObject(e.view,j,g.type,g.aName,g.aVal,g.command)}if(l){e.node=d;f.traverseNodes(e)}e=b.clone(K,c)})}C.remove();l=c}else{!b.isNullEmpty(k)&&$(i).html(k);if(h){e.view=o.NewObject(i,e.view,t);if(e.controller){e.view.$addController(e.controller);e.controller=a}}var F=e.parentDomnode;j=r.NewObject(e.view,i,h?a:F,e.withData);e.parentDomnode=j;h&&(e.withData=a);var G=a;b.each(m,function(){var a=this;G=q.NewObject(e.view,j,a.type,a.aName,a.aVal,a.command)})}if(!(u||n)&&A.length>0){var I=a;b.each(A,function(){I=s.NewObject(e.view,j,this.node,this.aName,this.aVal)})}return l}},n=b.mvc.templateClass=b.Class(function(){var h=function(d,g,a,e,c,b){f.traverseNodes({node:d,parentDomnode:a,view:e,withData:c,controller:b})},g=function(e,b,g,c,d){f.traverseChildrenNodes(e,{node:a,parentDomnode:b,view:g,withData:a,controller:d},c)};this.Define({controller:function(a){this._controller=a;return this},fromNode:function(a){return this.fromJquery(a)},fromHtml:function(a){return this.fromJquery($.parseHTML(a))},injectRenderItemHtml:function(c,a){return b.isNullEmpty(a)?e:["<!--bingo_complie_${",c,"_index}-->",a].join(e)},fromUrl:function(a){this._url=a;return this},fromId:function(a){return this.fromJquery($("#"+a))},fromJquery:function(a){this._jo=$(a);return this},withData:function(a){this._withData=a;return this},withDataList:function(a){this._withDataList=a;return this},appendTo:function(a){this._parentNode=$(a)[0];return this},cache:function(a){this._cache=a;return this},stop:function(a){this._stop=a!==c;return this},compilePre:function(a){this._compilePre=a;return this},compile:function(l){var d=this;if(d._stop){d._stop=c;d.clearProp();return d}var k=d._parentNode,j=k?f.getDomnode(k):a,e=d._view;if(e&&j&&j.view!=e)j=a;e||(e=j?j.view:p);var t=d._withData,o=d._withDataList,r=d._controller,q=d._compilePre;if(d._jo){var m=d._jo;d.clearProp();if(!k)if(m.size()>0)j=f.getDomnode(m[0]);else return d;q&&q.call(d);k&&m.appendTo(k);if(o)g(m,j,e,o,r);else m.each(function(){h(this,k,j,e,t,r)});e._handel();l&&l.call(d,m[0])}else if(k&&d._url){var u=d._url,s=d,v=b.inject(i,e)(u).success(function(a){if(s._stop){s._stop=c;s.clearProp();return}n.NewObject(e).fromHtml(a).controller(r).withData(t).withDataList(o).appendTo(k).compilePre(q).compile(function(a){l&&l.call(this,a);this.dispose()})}).error(function(){l&&l()}).dataType("text").cache(d.cache()).get();d.clearProp()}return d},clearProp:function(){var b=this;b._jo=b._url=b._compilePre=b._controller=b._html=b._parentNode=b._view=b._withDataList=b._withData=a;b.cache(d);return b}});this.Initialization(function(a){this._view=a;this.cache(d)})});b.factory("$tmpl",[k,function(a){if(a.__tmpl__)return a.__tmpl__;var b=n.NewObject(a);a.__tmpl__=b;b.disposeByOther(a);return b}]);var o=b.mvc.viewClass=b.Class(b.linkToDom.LinkToDomClass,function(){this.Property({node:a,$parentView:a,$domnodeList:[],$textList:[],$children:[],_module:a,_readyAuto:d,_controllers:[]});this.Define({_setParent:function(a){if(a){this.$parentView=a;a._addChild(this)}},_addDomnode:function(a){this.$domnodeList.push(a)},_removeDomnode:function(c){var a=this.$domnodeList;a=b.removeArrayItem(c,a);this.$domnodeList=a},_addChild:function(a){this.$children.push(a)},_removeChild:function(c){var a=this.$children;a=b.removeArrayItem(c,a);this.$children=a},_getWatch:function(){var a=this;if(a.__watch__)return a.__watch__;var b=_watchClass.NewObject();b.setScope(a);a.__watch__=b;b.disposeByOther(a);return b},_compile:function(){b.each(this.$domnodeList,function(){!this.isDisposed&&this._compile()})},_controller:function(){var a=this;if(a._controllers.length>0){var d=a._controllers;a._controllers=[];var c=a;b.each(d,function(){b.inject(this,c)});a._readyAuto&&setTimeout(function(){c.$sendReady()})}b.each(a.$domnodeList,function(){!this.isDisposed&&this._controller()})},_link:function(){b.each(this.$domnodeList,function(){!this.isDisposed&&this._link()})},_handel:function(){var a=this;a._compile();a._controller();a._link();a._handleChild()},_handleChild:function(){b.each(this.$children,function(){!this.isDisposed&&this._handel()})},_isReady_:c,$sendReady:function(){var a="ready",c="initdata",e=this;if(e.hasEvent(c)){var f=e;b.inject(i,e).syncAll(function(){f.trigger(c).end(c)}).success(function(){f.trigger(a).end(a);f._isReady_=d;f.$update()})}else{e.trigger(a).end(a);e._isReady_=d;e.$update()}},$setModule:function(a){this._module=a},$getModule:function(){return this._module},$addController:function(a){var c=b.isFunction(a)||b.isArray(a)?h(a):a;this._controllers.push(c)},$getDomnode:function(a){return f.getDomnode(a||this.node)},$getNode:function(b){var a=this._$node_||(this._$node_=$(this.node));return arguments.length==0?a:a.find(b)},$update:function(){return this.$publish()},$updateAsync:function(){this._isReady_===d&&this.$observer().publishAsync();return this},$apply:function(a,b){if(a){a.apply(b||this);this.$update()}return this},$proxy:function(a,b){var c=this;return function(){a.apply(b||this,arguments);c.$update()}},$publish:function(){this._isReady_===d&&this.$observer().publish();return this},$observer:function(){return b.inject("$observer",this)},$subscribe:function(d,a,c,b){this.$observer().subscribe(d,a,c,b)},$subs:function(){this.$subscribe.apply(this,arguments)}});this.Initialization(function(e,d,f){var a=this;a.base();a.linkToDom(e);a.node=e;a.$parentView=d;a._readyAuto=f!==c;d&&a._setParent(d);a.onDispose(function(){var a=this;b.each(a.$textList,function(a){a&&a.dispose()});var c=a.$parentView;c&&!c.isDisposed&&c._removeChild(a);a.$children=a.$domnodeList=a.$textList=[]})})}),r=b.mvc.domnodeClass=b.Class(b.linkToDom.LinkToDomClass,function(){this.Property({view:a,node:a,parentDomnode:a,attrList:[],textList:[],children:[],__withData__:a,_isCompiled:c,_isLinked:c,_isController:c});this.Define({_addChild:function(a){this.children.push(a)},_removeChild:function(c){var a=this.children;a=b.removeArrayItem(c,a);this.children=a},_sortAttrs:function(){if(this.attrList.length>1)this.attrList=this.attrList.sort(function(a,b){return a.priority==b.priority?0:a.priority>b.priority?-1:1})},_compile:function(){var a=this;if(!a._isCompiled){a._isCompiled=d;b.each(a.attrList,function(){!this.isDisposed&&this._compile()})}b.each(a.children,function(){!this.isDisposed&&this._compile()})},_controller:function(){var a=this;if(!a._isController){a._isController=d;b.each(a.attrList,function(){!this.isDisposed&&this._controller()})}b.each(a.children,function(){!this.isDisposed&&this._controller()})},_link:function(){var a=this;if(!a._isLinked){a._isLinked=d;b.each(a.attrList,function(){!this.isDisposed&&this._link()})}b.each(a.textList,function(){!this.isDisposed&&this._link()});b.each(a.children,function(){!this.isDisposed&&this._link()})},getWithData:function(){return this.__withData__},$getAttr:function(d){d=d.toLowerCase();var e=a;b.each(this.attrList,function(){if(this.attrName==d){e=this;return c}});return e},$html:function(c){var a=this;if(arguments.length>0){$(a.node).html(e);b.inject("$tmpl",a.view,a).fromHtml(c).withData(a.getWithData()).appendTo(a.node).compile();return a}else return $(a.node).html()}});this.Initialization(function(j,g,e,i){var a=this;a.base();a.linkToDom(g);f.setDomnode(g,a);a.__withData__=i;if(e){a.parentDomnode=e;i||(a.__withData__=e.__withData__);e._addChild(a)}a.view=j;e||j._addDomnode(a);a.node=g;var h=c;a.on("domRemoved",function(){h=d});a.onDispose(function(){var a=this;!h&&f.removeDomnode(a);b.each(a.attrList,function(a){a&&a.dispose()});b.each(a.textList,function(a){a&&a.dispose()});var c=a.parentDomnode;if(c)!c.isDisposed&&c._removeChild(a);else var d=a.view(!d.isDisposed)&&d._removeDomnode(a);a.attrList=a.children=a.textList=[]})})}),q=b.mvc.domnodeAttrClass=b.Class(function(){this.Property({view:a,domnode:a,command:a,attrName:e,_bindContext:a,type:e});this.Define({_compile:function(){var a=this,d=a.command,c=d.compile;c&&b.inject(c,a.view,a.domnode,a)},_controller:function(){var a=this,d=a.command,c=d.controller;c&&b.inject(c,a.view,a.domnode,a)},_link:function(){var a=this,d=a.command,c=d.link;if(c){b.inject(c,a.view,a.domnode,a);a._init()}},_makeCommand:function(b){if(b){var a=b;a.compile=h(a.compile);a.controller=h(a.controller);a.link=h(a.link)}this.command=b||{}},getWithData:function(){return this.domnode.getWithData()},$prop:function(a){if(arguments.length==0)return this._bindContext.$prop();else this._bindContext.$prop(a);return this},$eval:function(a,b){return this._bindContext.$eval(a,b)},$context:function(a,b){return this._bindContext.$context(a,b)},$value:function(a){return arguments.length==0?this._bindContext.$value():this._bindContext.$value(a)},$subs:function(a,b,d){if(arguments.length==1){b=a;var c=this;a=function(){return c.$context()}}this.view.$subs(a,b,d,this)},_init:function(){var c=this;c.__isinit=d;var e=c.__initParam;if(e){var f=e.p,h=e.p1;c.__initParam=a;var g=b.isFunction(f)?f.call(c):f;h.call(c,b.variableOf(g))}},$init:function(b,c){var a=this;if(arguments.length==1){c=b;var d=a;b=function(){return d.$context()}}a.__initParam={p:b,p1:c};a.__isinit&&a._init()}});this.Initialization(function(f,e,l,j,i,k){var d=this;d.__initParam=a;d.__isinit=c,d.domnode=e;e.attrList.push(d);d.view=f;d.type=l;d.attrName=j.toLowerCase();var h=b.inject(g,f,e,d);d._bindContext=h(i);d._makeCommand(k);d.onDispose(function(){this._bindContext.dispose()})})}),s=b.mvc.textTagClass=b.Class(function(){this.Property({view:a,domnode:a,node:a,attrName:e,attrValue:e,__withData__:a,_isLinked:c});this.Define({_link:function(){var i=this;if(!i._isLinked){i._isLinked=d;var k=i.attrValue,j=[],h=i,n=i.node.nodeValue=k.replace(f._textTagRegex,function(k,f){var c={},i=b.inject(g,h.view,h.domnode,a,h.node),d=i(f,h.node,h.getWithData());c.text=k,c.context=d;j.push(c);var l=d.$context();return c.value=l||e});b.each(j,function(a){var d=a.context,e=a.text;h.view.$subs(function(){return d.$context()},function(c){if(h._isRemvoe()){h._remove();this.dispose();l();return}a.value=b.toStr(c);m()},c,h.domnode)});var m=function(){var a=k;b.each(j,function(b){var d=b.text,c=b.value;a=a.replace(d,c)});h.node.nodeValue=a},l=function(){b.each(j,function(a){a.context&&a.context.dispose()});j=a};i.onDispose(function(){l()})}},_isRemvoe:function(){var a=this;return!a.node||!a.node.parentNode||!a.node.parentNode.parentNode||!a.node.parentNode.parentElement},_remove:function(){var a=this;if(a.isDisposed)return;if(a.node.nodeType==3){var c=a.domnode||a.view;if(c&&!c.isDisposed)c.textList&&(c.textList=b.removeArrayItem(a,c.textList))}a.dispose()},getWithData:function(){return this.__withData__||(this.domnode?this.domnode.getWithData():a)}});this.Initialization(function(c,b,h,e,d,g){var a=this;a.view=c;a.domnode=b;a.node=h;a.__withData__=g;if(b)b.textList.push(a);else c.$textList.push(a);a.attrName=e.toLowerCase();a.attrValue=d;a.onDispose(function(){f._removeCompileTextTag(this.node)})})}),z=b.mvc.bindContextClass=b.Class(function(){var a={_cacheName:"__contextFun__",resetContextFun:function(b){b[a._cacheName]={}},evalScriptContextFun:function(b){return a.getScriptContextFun(b,c,"eval")},getScriptContextFun:function(f,g,d){d||(d="context");var h=f[a._cacheName];if(h[d])return h[d];var i=f.$prop();g=g!==c;try{var j=[g?"return ":e,i,";"].join(e);return f[d]=new Function(k,"$node",m,"event"," return (function(){ try{ with($view){ if (!$withData) {"+j+"} else { with($withData){"+j+"} } }}catch(e){if (bingo.isDebug) console.error(e.message);}}).call($node)")}catch(l){b.isDebug&&console.error(l.message);return f[d]=function(){return i}}}};this.Define({$prop:function(c){var b=this;if(arguments.length==0)return b.attrValue;else{b.attrValue=c;a.resetContextFun(b);return b}},$eval:function(c,d){var b=this;return a.evalScriptContextFun(b)(d||b.view,b.node,b.withData,c)},$context:function(c,d){var b=this,e=a.getScriptContextFun(b)(d||b.view,b.node,b.withData,c);return b.$filter(e)},$value:function(f){var c=this,g=c.attrValue,e=g,d=c.withData,a;if(d)a=b.datavalue(d,e);if(b.isUndefined(a)){d=c.view;a=b.datavalue(d,e)}if(b.isUndefined(a)){d=window;a=b.datavalue(d,e)}if(arguments.length>0){if(b.isVariable(a))a(f);else if(b.isUndefined(a))b.datavalue(c.withData||c.view,e,f);else b.datavalue(d,e,f);return c}else return c.$filter(a)},$filter:function(b,a){return this._filter.filter(b,a)}});this.Initialization(function(f,e,g,d,i,j){var c=this;a.resetContextFun(c);c.view=f;c.node=e;c.withData=d;var h=b.inject("$filter",f,i,j,e,{withData:d});c._filter=h(g,c.withData);c.attrValue=c._filter.context})});b.factory(g,[k,t,"$attr",m,function(d,a,c,b){return function(g,f,e){f||(f=a&&a.node);e||(e=b);return z.NewObject(d,f,g,e,a,c)}}]);var A=b.mvc.bindContextClass=b.Class(b.linkToDom.LinkToDomClass,function(){this.Define({$getAttr:function(e){var c=this,d=c._attrs[e];if(b.isUndefined(d)){var f=c.node.attributes[e];d=c._attrs[e]=f?b.inject(g,c.view,c.domnode,a,c.node)(f.nodeValue,c.node,c.withData):a}return d},$prop:function(c,d){var a=this;if(arguments.length==1){var b=a.node.attributes[c];return b?a.$getAttr(c).$prop():e}else{var b=a.$getAttr(c);b&&b.$prop(d);return a}},$eval:function(c,b,d){var a=this.$getAttr(c);return a&&a.$eval(b,d)},$context:function(c,b,d){var a=this.$getAttr(c);return a&&a.$context(b,d)},$value:function(c,b){var a=this.$getAttr(c);return!a?void 0:arguments.length==1?a.$value():a.$value(b)}});this.Initialization(function(e,d,b,c){var a=this;a.base();a.view=e;a.node=d;a.domnode=c;a.node.nodeType==1&&a.linkToDom(a.node);a.withData=b;a._attrs={};a.onDispose(function(){var a=this._attrs;for(var b in a)a.hasOwnProperty(b)&&a[b].dispose&&a[b].dispose()})})});b.factory("$nodeContext",[k,t,m,function(c,a,b){return function(e,d){e||(e=a&&a.node);d||(d=b);return A.NewObject(c,e,d,a)}}]);$(function(){b.using(function(){b.start()})})})(bingo);(function(c){var a=null;"use strict";var e=c._makeInjectAttrs,h=function(a,b){return arguments.length==1?this._services[a]:(this._services[a]=e(b))},g=function(e,f){var b=this._controllers[e];if(!b)b=this._controllers[e]={name:e,_actions:{},action:i};if(c.isFunction(f))try{d=b;f()}finally{d=a}return b},i=function(a,b){return arguments.length==1?this._actions[a]:(this._actions[a]=e(b))},f={},b=a,d=a;c.extend({module:function(e,i){if(this.isNullEmpty(e))return a;var d=a;d=f[e];if(!d)d=f[e]={name:e,_services:{},_controllers:{},service:h,controller:g};if(c.isFunction(i))try{b=d;i()}finally{b=a}return d},service:function(c){if(this.isNullEmpty(c)||!b)return a;b.service.apply(b,arguments)},controller:function(a){if(this.isNullEmpty(a)||!b)return;b.controller.apply(b,arguments)},action:function(a){if(this.isNullEmpty(a)||!d)return;d.action.apply(d,arguments)}});c.factory("$service",["$view",function(b){return function(e,g){if(c.isNullEmpty(e)||b.isDisposed)return a;var d;if(arguments.length>1)d=c.module(g).service(e);else{var f=b.$getModule();if(!f)return a;d=f.service(e)}return!d?a:c.inject(d,b)}}])})(bingo);(function(b){var g="user",f="system",c=null,a="";"use strict";b.route=function(a,c){if(arguments.length==1)return b.routeContext(a).toUrl;else a&&c&&e.add(a,c)};b.routeContext=function(a){return e.getRouteByUrl(a)};b.routeLink=function(c,d){var b=e.getRuote(c);return b?h(b.context.url,d,1):a};var d=/\{(.+)\}/gi,i=function(k,e){if(!k||!e.url)return c;var h=e.url;if(h.indexOf("*")>=0){e._reg||(e._reg=new RegExp(h.replace("*",".*")));return e._reg.test(k)?{}:c}var f=k.split("$"),m=f[0].split("/"),l=e._matchUrlList||(e._matchUrlList=h.split("/"));if(m.length!=l.length)return c;var j={},g=true,i;b.each(l,function(b,c){i=m[c];d.lastIndex=0;if(d.test(b))j[b.replace(d,"$1")]=decodeURIComponent(i||a);else{g=b==i;if(!g)return false}});if(g&&f.length>1){f=b.sliceArray(f,1);b.each(f,function(d){var b=d.split(":"),c=b[0],e=decodeURIComponent(b[1]||a);c&&(j[c]=e)})}return g?j:c},j=function(c,b,a){return{params:a,url:c,toUrl:b}},h=function(c,h,j){d.lastIndex=0;if(!c||!d.test(c)||!h)return c;var e=a,i=a,f=a;for(var g in h){i=["{",g,"}"].join(a);f=encodeURIComponent(h[g]||a);if(c.indexOf(i)>=0)c=b.replaceAll(c,i,f);else if(j==1)e=[e,"$",g,":",f].join(a);else e=[e,"&",g,"=",f].join(a)}if(e)if(j==1)c=[c,e].join(a);else if(c.indexOf("?")>=0)c=[c,e].join(a);else c=[c,e.substr(1)].join("?");return c},e={datas:[],defaultRoute:{url:"*",translate:function(a){return{params:{},url:a,toUrl:a}}},add:function(c,a){a.translate||(a.translate=j);var b=this.getRuote(c);if(b){b.context=a;return}this.datas.push({name:c,context:a})},getRuote:function(d){var a=c;b.each(this.datas,function(){if(this.name==d){a=this;return false}});return a},getRouteByUrl:function(f){var d=c,a=c;b.each(this.datas,function(){d=this.context;a=i(f,d);if(a)return false});if(!a)d=e.defaultRoute;if(a||d.defaultValue)a=b.extend({},d.defaultValue,a);var g=h(d.toUrl,a);return d.translate(f,g,a)}};b.route("view",{url:"view/{module}/{controller}/{action}",toUrl:"modules/{module}/views/{controller}/{action}.html",defaultValue:{module:f,controller:g,action:"list"}});b.route("ctrl",{url:"ctrl/{module}/{controller}/{action}",toUrl:"modules/{module}/controllers/{controller}.js",defaultValue:{module:f,controller:g,action:"list"}});b.route("service",{url:"service/{module}/{service}",toUrl:"modules/{module}/services/{service}.js",defaultValue:{module:f,service:g}});b.factory("$route",function(){return function(a){return b.route(a)}})})(bingo);(function(a){var e="$view",d="$observer",b=false,c=true;"use strict";var h=a.mvc.observerClass=a.Class(function(){var d=function(k,f,j,h,e){var l=a.isFunction(f),i=function(){var b;if(l){if(e&&e.isDisposed){setTimeout(function(){g.dispose()});return}b=f.call(g)}else{var c=k._view;b=a.datavalue(c,f);if(a.isUndefined(b))b=a.datavalue(window,f)}return b},d=i();if(h)d=a.clone(d);var g={check:function(){if(e&&e.isDisposed){setTimeout(function(){g.dispose()});return}var f=i();if(a.isVariable(f)){d=f;if(f._obsCheck()){j.call(this,f());return c}}else if(h?!a.equals(f,d):f!=d){d=h?a.clone(f):f;j.call(this,f);return c}return b},dispose:function(){k._remove(this);this.check=this.dispose=a.noop}};return g};this.Define({subscribe:function(e,b,f,c){var a=d(this,e,b,f,c);this._subscribes.push(a);return a},publish:function(){this._publishTime=0;this._publish&&this._publish()},publishAsync:function(){var a=this;if(!a._pbAsync_){var b=a;a._pbAsync_=setTimeout(function(){b._pbAsync_=null;b.publish()},5)}return a},_publishTime:0,_publish:function(){var d=this,e=b;a.each(d._subscribes,function(){if(this.check())e=c});if(e&&d._publishTime<10){d._publishTime++;var f=d;setTimeout(function(){f.isDisposed||f.publish()})}},_remove:function(b){this._subscribes=a.removeArrayItem(b,this._subscribes)}});this.Initialization(function(d){var c=this;c._view=d,c._isPause=b,c._subscribes=[];c.disposeByOther(d);c.onDispose(function(){a.each(this._subscribes,function(){this.dispose()})})})});a.factory(d,[e,function(a){return a.__observer__||(a.__observer__=h.NewObject(a))}]);a.each(["$subscribe","$subs"],function(b){a.factory(b,[d,"$attr",function(a,b){return function(e,c,d){return a.subscribe(e,c,d,b)}}])});a.variable=function(i,h,f){var e=a.variableOf(i),d=function(b){b=a.variableOf(b);var f=h||this;if(arguments.length==0)return e;else{var c=!a.equals(e,b);e=b;if(c)d.$setChange();else d._onAssign&&d._onAssign().trigger([e]);return f}};d._isVar_=g;d._isChanged=c;d.size=function(){return e&&e.length};d._triggerChange=function(){var a=this;a._onAssign&&a._onAssign().trigger([e]);a._onSubscribe&&a._onSubscribe().trigger([e]);f&&f.$updateAsync()};d.$assign=function(b){(this._onAssign||(this._onAssign=a.Event(d))).on(b);return this};d.$subs=function(b){(this._onSubscribe||(this._onSubscribe=a.Event(d))).on(b);return this};d.$setChange=function(c){var a=this;a._isChanged=c!==b;a._isChanged&&a._triggerChange();return a};d._obsCheck=function(){var a=this._isChanged;this._isChanged=b;return a};return d};var g="isVar1212",f="isModel1212";a.isVariable=function(a){return a&&a._isVar_==g};a.variableOf=function(b){return a.isVariable(b)?b():b};a.isModel=function(a){return a&&a._isModel_==f};a.modelOf=function(b){b=a.variableOf(b);return a.isModel(b)?b.toObject():b};var j=function(f){var c=f||{},d,e;for(var b in this)if(this.hasOwnProperty(b)){d=this[b];if(a.isVariable(d)){e=d();if(a.isVariable(c[b]))c[b](e);else c[b]=e}}return c},i=function(b){if(b){var d;for(var c in b)if(b.hasOwnProperty(c)&&this.hasOwnProperty(c)){d=this[c];a.isVariable(d)&&d(b[c])}}return this};a.model=function(c,g){c=a.modelOf(c);var b={},e;for(var d in c)if(c.hasOwnProperty(d)){e=c[d];b[d]=a.variable(e,b,g)}b._isModel_=f;b.toObject=j;b.formObject=i;return b};a.factory("$var",[e,function(b){return function(d,c){return a.variable(d,c,b)}}]);a.factory("$model",[e,function(b){return function(c){return a.model(c,b)}}])})(bingo);(function(a){"use strict";var b=a.linqClass=a.Class(function(){var b=null;this.Define({each:function(d,b,c){this._doLastWhere();a.each(this._datas,d,b,c);return this},where:function(e,c,b,d){this._doLastWhere();this._lastWhere={fn:e,index:c,count:a.isNumeric(b)?b:-1,rever:d};return this},_lastWhere:b,_doLastWhere:function(f,e,g){var d=this,c=d._lastWhere;if(c){d._lastWhere=b;var i=c.fn,f=a.isNumeric(f)?f:c.index,e=a.isNumeric(e)?e:c.count,g=!a.isUndefined(g)?g:c.rever,h=[];d.each(function(a,b){if(i.call(a,a,b)){h.push(a);if(e!=-1){e--;if(e==0)return false}}},f,g);d._datas=h}return d},select:function(c,d){var a=this;a._doLastWhere();var b=[];a.each(function(a,e){if(d===true)b=b.concat(c.call(a,a,e));else b.push(c.call(a,a,e))});a._datas=b;return a},sort:function(b){var a=this;a._doLastWhere();a._datas=a._datas.sort(function(c,d){var a=b(c,d);return a>0||a===true?1:a<0||a===false?-1:0});return a},sortAsc:function(b){var c=a.isFunction(b);return this.sort(function(a,d){return c?b.call(a,a)-b.call(d,d):b?a[b]-d[b]:a-d})},sortDesc:function(b){var c=a.isFunction(b);return this.sort(function(a,d){return c?b.call(d,d)-b.call(a,a):b?d[b]-a[b]:d-a})},unique:function(c){var b=this;b._doLastWhere();var e=[],d=[];c||(c=function(a){return a});b.each(function(b,g){var f=c.call(b,b,g);if(a.inArray(f,d)<0){e.push(b);d.push(f)}});b._datas=e;return b},count:function(){this._doLastWhere();return this._datas.length},first:function(a){this._doLastWhere(0,1);return this._datas[0]||a},last:function(a){this._doLastWhere(0,1,true);return this._datas[0]||a},contain:function(){this._doLastWhere(0,1);return this.count()>0},sum:function(a){this._doLastWhere();var b=0;this.each(function(d,c){b+=a?a.call(this,this,c):d});return b},avg:function(b){this._doLastWhere();var a=0;this.each(function(d,c){a+=b?b.call(this,this,c):d});return a==0?0:a/this._datas.length},min:function(b){this._doLastWhere();var d=-1,a,c;this.each(function(e,f){a=b?b.call(e,e,f):e;if(f==0||d>a){d=a;c=e}});return c},max:function(b){this._doLastWhere();var d=-1,a,c;this.each(function(e,f){a=b?b.call(e,e,f):e;if(f==0||d<a){d=a;c=e}});return c},take:function(c,b){this._doLastWhere();if(isNaN(b)||b<0)b=this.count();return a.sliceArray(this._datas,c,b)},toArray:function(){this._doLastWhere();return this._datas},toPage:function(f,a){var b=this.toArray(),d=1,c=1,a=a,e=b.length,b=b;if(b.length>0){c=parseInt(e/a)+(e%a!=0?1:0);d=f>c?c:f<1?1:f;b=this.take((d-1)*a,a)}return{currentPage:d,totalPage:c,pageSize:a,totals:e,list:b}},_getGroupByValue:function(e,c,d){for(var a=0,f=c.length;a<f;a++)if(c[a][d]==e)return c[a];return b},group:function(k,e,g){var c=this;e||(e="group");g||(g="items");c._doLastWhere();for(var h=[],j=c._datas,l=j.length,d=b,a=b,i=b,f=0;f<l;f++){d=j[f];i=k.call(d,d,f);a=c._getGroupByValue(i,h,e);if(a==b){a={};a[e]=i;a[g]=[d];h.push(a)}else a.items.push(d)}c._datas=h;return c}});this.Initialization(function(a){this._datas=a||[]})});a.linq=function(a){return b.NewObject(a)};a.factory("$linq",function(){return function(b){return a.linq(b)}})})(bingo);bingo.factory("$node",["node",function(a){return $(a)}]);(function(a){"use strict";var c=a.mvc.ajaxClass=a.Class(function(){var d=function(a){a._updateView();setTimeout(function(){a.dispose()},1)},c={},e=function(b,j){var f=b.view();if(b.isDisposed&&f.isDisposed)return;var i=a.clone(b.param()||{}),e=null,h=a.route(b.url()),g=b.cache();if(g){e=h.toLowerCase();if(e in c){if(b.async())setTimeout(function(){b.isDisposed||f.isDisposed||b.deferred().resolveWith(b,[c[e]])});else b.deferred().resolveWith(b,[c[e]]);return}}$.ajax({type:j,url:h,data:i,async:b.async(),cache:false,dataType:b.dataType(),success:function(a){if(g)c[e]=a;if(b.isDisposed&&f.isDisposed)return;try{var h=b.deferred();h.resolveWith(b,[a])}finally{d(b)}},error:function(g,c,a){if(b.isDisposed&&f.isDisposed)return;try{var e=b.deferred();e.rejectWith(b,[g,c,a])}finally{d(b)}}})};this.Variable({async:true,dataType:"json",param:{},cache:false,url:""});this.Define({view:function(b){var a=this;if(arguments.length==0)return a._view;a._view=b;a.disposeByOther(b);return a},_updateView:function(){var a=this;if(a._sync_&&a._sync_.view&&a._sync_.view())return;var b=a.view();b&&b.$update&&b.$update()},deferred:function(){this._dtd||(this._dtd=$.Deferred());return this._dtd},success:function(a){this.deferred().done(a);return this},error:function(a){this.deferred().fail(a);return this},alway:function(a){this.deferred().always(a);return this},_withSync:function(){var a=b.lastSync();if(!a)return this;a.addCount();this._sync_=a;return this.success(function(){setTimeout(function(){a.decCount()},1)}).error(function(){setTimeout(function(){a.reject()},1)})},post:function(){var b=this;b.async()&&b._withSync();e(b,"post");b.post=a.noop;return b},"get":function(){var b=this;b.async()&&b._withSync();e(b,"get");b.get=a.noop;return b}});this.Initialization(function(b){this.url(a.route(b))})}),b=a.mvc.ajaxaSyncClass=a.Class(function(){this.Static({syncList:[],lastSync:function(){var a=this.syncList,b=a.length;return b>0?a[b-1]:null}});this.Define({view:function(b){var a=this;if(arguments.length==0)return a._view;a._view=b;a.disposeByOther(b);return a},deferred:function(){this._dtd||(this._dtd=$.Deferred());return this._dtd},success:function(a){this.deferred().done(a);return this},error:function(a){this.deferred().fail(a);return this},alway:function(a){this.deferred().always(a);return this},resolve:function(){var a=this;a._count=0;a._dtd&&a.deferred().resolve();a._updateView();a.dispose()},reject:function(){var a=this;a._count=0;a._dtd&&a.deferred().reject();a.dispose()},withSync:function(b){var a=this;a.addCount();var c=a;a._syncObj_=b;b.error(function(){setTimeout(function(){c.reject()},1)}).success(function(){setTimeout(function(){c.decCount()},1)});return a},_updateView:function(){var a=this;if(a._syncObj_&&a._syncObj_.view&&a._syncObj_.view())return;var b=a.view();b&&b.$update&&b.$update()},addCount:function(){this._count++;return this},decCount:function(){this._count--;this._checkResolve();return this},_checkResolve:function(){this._count<=0&&this.resolve()}});this.Initialization(function(){this._count=0})});a.factory("$ajax",["$view",function(a){var b=function(b){return c.NewObject(b).view(a)};b.syncAll=function(b){return d(b,a)};return b}]);var d=function(c,f){if(!c)return null;var e=b.syncList,d=b.lastSync(),a=b.NewObject();f&&a.view(f);d&&d.withSync(a);e.push(a);c&&c();e.pop();setTimeout(function(){a._checkResolve&&a._checkResolve()},1);return a}})(bingo);(function(b){var d="$withData",a=null;"use strict";var c={_filterRegex:/[|]+[ ]?([^|]+)/g,hasFilter:function(a){this._filterRegex.lastIndex=0;return this._filterRegex.test(a)},removerFilterString:function(a){if(b.isNullEmpty(a)||!this.hasFilter(a))return a;this._filterRegex.lastIndex=0;var c=a.replace(this._filterRegex,function(a){return a.indexOf("||")==0?a:""});return b.trim(c)},getFilterStringList:function(a){if(b.isNullEmpty(a)||!this.hasFilter(a))return[];var c=[];this._filterRegex.lastIndex=0;a.replace(this._filterRegex,function(b,a){b.indexOf("||")!=0&&c.push(a)});return c},getContextObjectFun:function(e){var c=a,f=["{",e,"}"].join(""),b=["return ",f,";"].join("");c=new Function("$view","$data",d," return (function(){ try{ with($view){ if (!$withData){ "+b+"} else { with($withData){"+b+" }} }}catch(e){if (bingo.isDebug) console.error(e.message);}}).call($data)");return c},hasFilterParam:function(a){return a.indexOf(":")>=0},getFilterParamName:function(c){var a=c.split(":");return b.trim(a[0])},getFilterByView:function(e,d){var c=a;return c||b.filter(d)},getFilterObjList:function(d,e,h){var f=this.getFilterStringList(h);if(f.length==0)return[];var g=[];b.each(f,function(i){i=b.trim(i);if(b.isNullEmpty(i))return;var h={name:a,paramFn:a,fitlerFn:a},f=a;if(c.hasFilterParam(i)){h.name=c.getFilterParamName(i);f=c.getFilterByView(d,h.name);if(!f)return;f=b.inject(f,d,e);h.paramFn=c.getContextObjectFun(i)}else{h.name=i;f=c.getFilterByView(d,h.name);if(!f)return;f=b.inject(f,d,e)}h.fitlerFn=f;h.fitler=function(d,f,e){var b=this;if(!b.fitlerFn)return d;var c=a;if(b.paramFn){c=b.paramFn(f,d,e);c&&(c=c[b.name])}return b.fitlerFn(d,c)};g.push(h)});return g},createFilterObject:function(d,g,e){var a={},f=c.hasFilter(e);a._filters=f?c.getFilterObjList(d,g,e):[];if(a._filters.length>0)a.filter=function(e,c){var a=b.variableOf(e);b.each(this._filters,function(){a=this.fitler(a,d,c)});return a};else a.filter=function(a){return a};return a}};b.factory("$filter",["$view","$domnode",d,function(f,e,d){var b=a,g=function(g,a){a&&(d=a);b=c.createFilterObject(f,e,g);return{context:c.removerFilterString(g),filter:function(c,a){return b.filter(c,a||d)}}};return g}]);b.filter("eq",function(){return function(a,b){return a==b}});b.filter("neq",function(){return function(a,b){return a!=b}});b.filter("not",function(){return function(a){return!a}});b.filter("gt",function(){return function(a,b){return a>b}});b.filter("gte",function(){return function(a,b){return a>=b}});b.filter("lt",function(){return function(a,b){return a<b}});b.filter("lte",function(){return function(a,b){return a<=b}});b.filter("text",function(){return function(a){return b.htmlEncode(a)}});b.filter("sw",function(){return function(j,b){var c=b.length,e=c%2==1,i=e?b[c-1]:"";e&&c--;for(var h=a,g=false,f,d=0;d<c;d+=2){f=b[d];if(j==f){h=b[d+1],g=true;break}}return g?h:i}})})(bingo);(function(a){var c=null,b=true;"use strict";var e=/\$\{\s*(\/?)(if|else|foreach|tmpl)*([^}]*)\}/g,f=/[ ]*([^ ]+)[ ]+in[ ]+([^ ]+)(?:[ ]+tmpl=([^ ]+))*/g,d=function(h,p,m,n,l,g,k,i){var d={isIf:p===b,ifReturn:b,isElse:k===b,isForeach:i===b,isEnd:m===b,isTag:n===b,context:h,forParam:c,filterContext:c,fn:a.noop,flt:c,children:[]};if(d.isTag)if(!d.isEnd){d.filterContext=h;var e=a.inject("$filter",l,g);e=e(h,g&&g.getWithData());d.context=e.context;d.flt=e;if(d.isForeach){var o=d.context;f.lastIndex=0;o.replace(f,function(){var a=d.forParam={};a.itemName=arguments[1];a.dataName=d.context=arguments[2];a.tmpl=arguments[3]})}d.fn=j(d.context)}return d},j=function(b){if(a.isNullEmpty(b))return a.noop;var c=b;try{return new Function("$view, $data",["try {","with ($view) {","with ($data) {","return "+b+";","}","}","} catch (e) {",'return bingo.isDebug ? ("Error: " + (e.message || e)) : e.message;',"} finally {","$data = null;","}"].join(""))}catch(e){if(a.isDebug){var d=["Error:",e.message||e," render:",c].join("");throw new Error(d);}else return function(){return e.message}}},k=function(j,m,l){var h=[],f=0,c=[],g=false,i=function(a){return a>0?c[a-1].children:h},k=function(a){return a>0?c.pop().children:h};j.replace(e,function(p,z,u,h,q,x){var n=d(x.slice(f,q)),j=c.length,e=i(j),s=z=="/",r=u=="tmpl";if(!g){g=r;if(r){f=q+p.length;return}}else{g!=(s&&r);if(s&&r){e.push(n);g=false}else{e.push(n);e.push(d(p))}f=q+p.length;return}var y=h.indexOf(" ")==0;!a.isNullEmpty(h)&&(h=a.trim(h));var o=u=="else";if(o)if(!a.isNullEmpty(h))if(!y)o=false;else{h=a.trim(h);h=a.isNullEmpty(h)?"true":h}else h="true";var w=u=="if"||o,v=u=="foreach",t=d(h,w,s,b,m,l,o,v);if(o){e=k(j);e.push(n);j=c.length;e=i(j);e.push(t);c.push(t)}else if(s){e=k(j);e.push(n)}else{e=i(j);e.push(n);e.push(t);(w||v)&&c.push(t)}f=q+p.length});f<j.length&&h.push(d(j.slice(f)));return h},g=function(f,c,e,b){var d=[],h=[];a.each(f,function(h,o){if(!h.isTag)d.push(h.context);else if(!h.isEnd)if(h.isForeach){var k=h.forParam;if(!k)return;var m=k.tmpl,l=h.flt.filter(h.fn(c,b),b);if(!l)return;var j="";if(a.isNullEmpty(m))j=i(h.children,c,e,l,k.itemName,b);else{if(!h.__renderObj){j=$("#"+m).html();if(a.isNullEmpty(j))return;var n=a.inject("$render",c,e);h.__renderObj=n(j)}j=__renderObj.render(l,k.itemName,b)}d.push(j)}else if(h.isIf){if(h.isElse){if(f[o-1].ifReturn||!(h.ifReturn=h.flt.filter(h.fn(c,b),b)))return}else if(!(h.ifReturn=h.flt.filter(h.fn(c,b),b)))return;var p=g(h.children,c,e,b);d.push(p)}else{var q=h.flt.filter(h.fn(c,b),b);d.push(q)}});return d.join("")},h=function(h,l,j,k,c,d,e,i){var a="_",b=i;b[[c,"index"].join(a)]=d;b[[c,"count"].join(a)]=e;b[[c,"first"].join(a)]=d==0;b[[c,"last"].join(a)]=d==e-1;var f=d%2==0;b[[c,"odd"].join(a)]=f;b[[c,"even"].join(a)]=!f;b[c]=k;return g(h,l,j,b)},i=function(g,k,i,b,c,e,d){a.isString(c)||(c="item");a.isArray(b)||(b=[b]);var j=b.length,f=[];a.each(b,function(l,b){var a=e?e:{};f.push(h(g,k,i,l,c,b,j,a));d&&d.push(a)});return f.join("")};a.factory("$render",["$view","$domnode",function(b,a){return function(f){e.lastIndex=0;var d=e.test(f)?k(f,b,a):c;return{renderItem:function(j,g,e,i,c){return!d?f:h(d,b,a,j,g,e,i,c||{})},render:function(h,g,e,c){return!d?f:i(d,b,a,h,g,e,c)}}}}])})(bingo);bingo.factory("$timeout",["$view",function(a){return function(b,c){return setTimeout(function(){if(!a.isDisposed){b&&b();a.$update()}},c||1)}}]);bingo.location=function(c){var b=$(c||document.documentElement),a="bg-frame";return{params:function(){var b=this.href(),a=bingo.routeContext(b);return a.params},href:function(d,b){if(arguments.length==0)return this.toString();else{var c=bingo.isNullEmpty(b)?this.frame():$("["+a+"]["+a+'-name="'+b+'"]');c.size()>0&&c.attr(a,d).trigger(a+"-change",[d])}},onChange:function(b){b&&this.frame().on(a+"-change",function(c,a){b.call(this,a)})},onLoaded:function(b){b&&this.frame().on(a+"-loaded",function(c,a){b.call(this,a)})},frame:function(){return b.closest("["+a+"]")},toString:function(){var b=this.frame();return b.size()>0?b.attr(a):window.location+""}}};bingo.factory("$location",["node",function(a){return bingo.location(a)}]);bingo.command("bg-controller",function(){var a=null,b=false;return{priority:1e3,tmpl:"",tmplUrl:"",replace:b,include:b,view:true,readyAuto:b,compileChild:b,compilePre:a,controller:a,link:a,compile:["$view","$tmpl","$node","$attr",function(b,h,g,e){var d=e.$prop(),c=a;if(!bingo.isNullEmpty(d)){c=e.$context();if(!c)c=e.$context(a,b.parentView)}if(bingo.isNullEmpty(d)||bingo.isFunction(c)||bingo.isArray(c)){c&&b.$addController(c);h.fromNode(g).compile(function(){if(b.isDisposed)return;b.$sendReady()})}else{var f=d;!bingo.isNullEmpty(f)&&bingo.using(f,function(){if(b.isDisposed)return;var j=bingo.routeContext(f),d=j.params,c=bingo.module(d.module),e=c?c.controller(d.controller):a,i=e?e.action(d.action):a;if(!c||!i)return;b.$setModule(c);b.$addController(i);h.fromNode(g).compile(function(){if(b.isDisposed)return;b.$sendReady()})})}}]}});bingo.each("event,click,blur,dblclick,focus,focusin,focusout,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,resize,scroll,select,submit".split(","),function(a){bingo.command("bg-"+a,function(){return["$view","$node","$attr",function(h,g,d){var f=function(b,a){g.on(b,function(){a.apply(this,arguments);h.$update()})};if(a!="event"){var b=d.$value();if(!bingo.isFunction(b))b=function(a){d.$eval(a)};f(a,b)}else{var c=d.$context();if(bingo.isObject(c)){var b=null;for(var e in c)if(c.hasOwnProperty(e)){b=c[e];bingo.isFunction(b)&&f(e,b)}}}}]})});(function(a){"use strict";var b=/[ ]*([^ ]+)[ ]+in[ ]+([^ ]+)/g;a.each(["bg-foreach","bg-render"],function(c){a.command(c,function(){return{priority:100,compileChild:false,link:["$view","$tmpl","$node","$attr","$render","$ajax",function(t,o,d,c,q,r){var p=c.$prop();if(a.isNullEmpty(p))return;var f="",h="";b.lastIndex=0;p.replace(/[ ]*([^ ]+)[ ]+in[ ]+([^ ]+)/g,function(){f=arguments[1];h=arguments[2]});if(a.isNullEmpty(f)||a.isNullEmpty(h))return;c.$prop(h);var g=null,k=function(a){a=o.injectRenderItemHtml(f,a);return q(a)},j=function(b){var h=d,c="";h.html("");if(!a.isArray(b))b=b?[b]:[];var e=[];c=g.render(b,f,null,e);a.isNullEmpty(c)||o.fromHtml(c).withDataList(e).appendTo(h).compile()},l=function(){c.$subs(function(){return c.$context()},function(a){j(a)},true);c.$init(function(){return c.$context()},function(a){j(a)})},m=d.attr("tmpl-url"),s=null;if(!a.isNullEmpty(m))r(m).success(function(b){if(!a.isNullEmpty(b)){g=k(b);l()}}).dataType("text").cache(true).get();else{var n=d.attr("tmpl-id"),e="";if(a.isNullEmpty(n)){var i=d.children();if(i.size()===1&&i.is("script"))e=i.html();else e=d.html()}else e=$("#"+n).html();if(!a.isNullEmpty(e)){g=k(e);l()}}}]}})})})(bingo);bingo.command("bg-frame",function(){return{priority:1e3,replace:false,view:true,compileChild:false,compile:["$tmpl","$node","$attr","$location",function(f,b,e,c){var a=null;c.onChange(function(c){a&&a.stop();a=f.fromUrl(c).appendTo(b).compilePre(function(){b.html("")}).compile(function(){a=null;b.trigger("bg-frame-loaded",[c])})});var d=e.$prop();d&&c.href(d)}]}});$(function(){$(document.documentElement).on("click","[href]",function(){if(!bingo.location)return;var b=$(this),a=b.attr("href");if(a.indexOf("#")>=0){var c=bingo.location(this),d=b.attr("bg-target");a=a.split("#");a=a[a.length-1];c.href(a,d)}})});bingo.command("bg-html",function(){return["$attr","$node",function(a,c){var b=function(a){c.html(bingo.toStr(a))};a.$subs(function(){return a.$context()},function(a){b(a)});a.$init(function(){return a.$context()},function(a){b(a)})}]});bingo.each("attr,prop,src,checked,disabled,readonly,class".split(","),function(a){bingo.command("bg-"+a,function(){return["$view","$attr","$node",function(f,d,c){var b="checked",e=function(d){switch(a){case"attr":c.attr(d);break;case"prop":c.prop(d);break;case"disabled":case"readonly":case b:c.prop(a,d);break;default:c.attr(a,d)}};d.$subs(function(){return d.$context()},function(a){e(a)},a=="attr"||a=="prop");d.$init(function(){return d.$context()},function(a){e(a)});a==b&&c.click(function(){var a=c.prop(b);d.$value(a);f.$update()})}]})});bingo.each("style,show,hide,visibility".split(","),function(a){bingo.command("bg-"+a,function(){return["$attr","$node",function(c,b){var d=function(c){switch(a){case"style":b.css(c);break;case"hide":c=!c;case"show":if(c)b.show();else b.hide();break;case"visibility":c=c?"visible":"hidden";b.css(a,c);break;default:b.css(a,c)}};c.$subs(function(){return c.$context()},function(a){d(a)},a=="style");c.$init(function(){return c.$context()},function(a){d(a)})}]})});bingo.command("bg-if",function(){return{compileChild:false,compile:["$attr","$node","$tmpl",function(c,a,d){var b=$(a),e=b.html();b.html("");b=null;c.$subs(function(){return c.$context()},function(b){if(b){a.show();d.fromHtml(e).appendTo(a).compile()}else a.html("").hide()})}]}});bingo.command("bg-model",function(){return["$view","$node","$attr",function(i,c,d){var a="checked",b="checkbox_value_02",h=c.is(":radio"),e=c.is(":checkbox");e&&c.data(b,c.val());var j=function(a){return bingo.isNullEmpty(a)?"":a},f=function(){var d=c;return e?d.prop(a)?d.data(b):"":d.val()},g=function(d){var f=c;d=j(d);if(e){f.data(b,d);f.prop(a,f.val()==d)}else if(h)f.prop(a,f.val()==d);else f.val(d)};if(h)c.click(function(){var a=f();d.$value(a);i.$update()});else c.on("change",function(){var a=f();d.$value(a);i.$update()});d.$subs(function(){return d.$value()},function(a){g(a)});d.$init(function(){return d.$value()},function(a){g(a)})}]});bingo.command("bg-node",function(){return["$attr","$node",function(a,b){a.$value(b[0])}]});bingo.command("bg-text",function(){return["$attr","$node",function(a,c){var b=function(a){c.text(bingo.toStr(a))};a.$subs(function(){return a.$context()},function(a){b(a)});a.$init(function(){return a.$context()},function(a){b(a)})}]});bingo.command("bg-include",function(){return["$attr","$domnode","$ajax",function(a,d,e){var c=a.$prop();if(bingo.isNullEmpty(c))return;var b=function(b){var c=b.indexOf("#")!=0,a="";if(c)e(b).dataType("text").cache(true).async(false).success(function(b){a=b}).get();else a=$(b).html();d.$html(a)};a.$init(function(){return a.$context()},function(d){var e=!bingo.isUndefined(d);if(e){a.$subs(function(){return a.$context()},function(a){b(a)});b(d)}else b(c)})}]})